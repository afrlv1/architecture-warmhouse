asyncapi: 2.6.0
info:
  title: Telemetry Service AsyncAPI
  version: 1.0.0

channels:
  telemetry.device.data:
    description: Telemetry events published by devices.
    subscribe:
      message:
        name: TelemetryMessage
        payload:
          type: object
          required:
            - device_id
            - timestamp
            - metric_type
          properties:
            device_id:
              type: string
            timestamp:
              type: string
              format: date-time
            metric_type:
              type: string
            value_number:
              type: number
              nullable: true
            value_text:
              type: string
              nullable: true
            raw_payload:
              type: object
              additionalProperties: true
